@inject IJSRuntime JS

@rendermode InteractiveServer

<p>This is test text </p>

@code {
    [Parameter]
    public List<string> Labels { get; set; } = new List<string>(); // X-axis labels

    [Parameter]
    public List<double> Data { get; set; } = new List<double>(); // Y-axis data points

    private string chartId = "lineChart" + Guid.NewGuid().ToString("N"); // Unique ID for the chart

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await CreateChart();
        }
    }

    private async Task CreateChart()
    {
        var chartData = new
        {
            type = "line",
            data = new
            {
                labels = Labels,
                datasets = new[]
                {
                    new
                    {
                        label = "Sample Data",
                        data = Data,
                        borderColor = "blue",
                        fill = false
                    }
                }
            },
            options = new
            {
                responsive = true,
                plugins = new
                {
                    legend = new
                    {
                        display = true,
                        position = "top"
                    }
                },
                scales = new
                {
                    x = new { title = new { display = true, text = "X-axis" } },
                    y = new { title = new { display = true, text = "Y-axis" } }
                }
            }
        };

        await JS.InvokeVoidAsync("createChart", chartId, chartData);
    }
}

<canvas id="@chartId" width="400" height="200"></canvas>
